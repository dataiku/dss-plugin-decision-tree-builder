<div class="panel" ng-controller="CreateOrLoadController">
    <div ng-if="modal.type"
        class="modal-background"
        tabindex=0
        ng-keyup="$event.keyCode == 27 && removeModal()"
        ng-click="removeModal($event)">
    </div>
    <div class="subpanel">
        <div class="title">Create or load a tree</div>
        <div class="subpanel-sections">
            <div class="form-subsection">
                <label ng-click="config.newTree = true">
                    <input type="radio" name="create-load" ng-checked="config.newTree">&nbsp;Create new tree
                </label>
                <label ng-click="config.newTree = false">
                    <input type="radio" name="create-load" ng-checked="!config.newTree">&nbsp;Load existing tree
                </label>
            </div>
            <div class="form-subsection" ng-show="config.newTree">
                <div custom-dropdown
                    id="dataset"
                    possible-values="datasets"
                    item="config.dataset"
                    item-name="dataset"
                    label="Dataset"
                    class="custom-dropdown--set-width">
                </div>
            </div>
            <div class="form-subsection" ng-show="config.newTree && config.dataset">
                <div custom-dropdown
                    id="target"
                    possible-values="features"
                    item="config.target"
                    item-name="feature"
                    label="Target"
                    class="custom-dropdown--set-width">
                </div>
            </div>
            <div class="form-subsection" ng-show="!config.newTree">
                <div custom-dropdown
                    id="file"
                    possible-values="files"
                    item="config.file"
                    item-name="file"
                    label="File"
                    class="custom-dropdown--set-width">
                </div>
            </div>
            <div class="form-subsection control-group" ng-show="!config.newTree && config.file">
                <div class="label-text">
                    Target
                </div>
                <div class=ellipsed-text>
                    {{config.target}}
                </div>
            </div>
        </div>
    </div>
    <div class="subpanel">
        <div class="title">Sampling parameters</div>
        <div class="subpanel-sections">
            <div class="form-subsection">
                <div custom-dropdown
                    id="method"
                    form="createLoad"
                    possible-values="[undefined, 'head', 'random']"
                    item="config.sampleMethod"
                    item-name="method"
                    label="Method">
                </div>
            </div>
            <div ng-show="config.sampleMethod" class="form-subsection">
                <form name="sampleSizeInput" class="control-group">
                    <label for="sample-size"><div class="label-text">Sample size</div></label>
                    <input id="sample-size" type="number" min="1" step="1" required ng-model="config.sampleSize" ng-keyup="$event.keyCode == 13 && (config.target || config.file) && sampleSizeInput.$valid && edit()">
                </form>
            </div>
        </div>
    </div>
    <div id="start-button-div">
        <button type="button" class="button" ng-click="edit()" ng-disabled="!config.target && !config.file || config.sampleMethod && sampleSizeInput.$invalid">Start</button>
    </div>
</div>
